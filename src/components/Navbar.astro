---
import Modal from './Modal.astro';
---
<!-- Responsive Navbar for Autoescuela La Flor -->
<nav class="bg-gray-800 fixed top-0 left-0 w-full z-50 py-2">
  <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
    <div class="flex items-center justify-between min-h-16">
      <!-- Mobile: button + centered logo + invisible spacer  -->
      <div class="flex items-center justify-between w-full lg:w-auto">
        <!-- Hamburger button (mobile only) -->
        <div class="lg:hidden">
          <button
            type="button"
            id="menu-button"
            class="inline-flex items-center justify-center rounded-md p-2 text-gray-400 hover:bg-gray-700 hover:text-white :bg-gray-900"
            aria-controls="mobile-menu"
            aria-expanded="false"
          >
            <span class="sr-only">Abrir menu</span>
            <svg
              id="menu-icon"
              class="h-6 w-6 transform transition-transform duration-500"
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="1.5"
              stroke="currentColor"
            >
              <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" />
            </svg>
          </button>
        </div>

        <!-- Logo: centered on mobile, left‑aligned on lg -->
        <div class="flex-1 flex justify-center lg:justify-start">
          <a href="/" class="italic font-diamond text-3xl sm:text-5xl lg:text-5xl text-gray-300 whitespace-nowrap">
            Autoescuela <span class="text-[#ACD14E]">La Flor</span>
          </a>
        </div>

        <!-- Invisible spacer (same width as button) -->
        <div class="lg:hidden w-10"></div>
      </div>

      <!-- Desktop links -->
      <div class="hidden lg:flex lg:ml-6 lg:space-x-4">
        <a href="/" class="rounded-md bg-gray-900 px-3 py-2 text-sm font-medium text-white hover:bg-gray-700" aria-current="page">Inicio</a>
        <a href="/QuienesSomos" class="rounded-md px-3 py-2 text-sm font-medium text-gray-300 hover:bg-gray-700 hover:text-white">Quiénes Somos</a>
        <a href="/Cursos" class="rounded-md px-3 py-2 text-sm font-medium text-gray-300 hover:bg-gray-700 hover:text-white">Cursos</a>
        <a href="#contacto" class="rounded-md px-3 py-2 text-sm font-medium text-gray-300 hover:bg-gray-700 hover:text-white">Contacto</a>
      </div>
    </div>
  </div>

  <!-- Mobile menu -->
  <div id="mobile-menu" class="lg:hidden overflow-hidden max-h-0 opacity-0 transition-all duration-700 ease-in-out">
    <div class="space-y-1 px-4 pt-2 pb-3">
      <a href="/" class="block rounded-md bg-gray-900 px-3 py-2 text-base font-medium text-white" aria-current="page">Inicio</a>
      <a href="/QuienesSomos" class="block rounded-md px-3 py-2 text-base font-medium text-gray-300 hover:bg-gray-700 hover:text-white">Quiénes Somos</a>
      <a href="/Cursos" class="block rounded-md px-3 py-2 text-base font-medium text-gray-300 hover:bg-gray-700 hover:text-white">Cursos</a>
      <a href="#contacto" class="block rounded-md px-3 py-2 text-base font-medium text-gray-300 hover:bg-gray-700 hover:text-white">Contacto</a>
    </div>
  </div>
</nav>

<Modal />




<script>
  const button = document.getElementById('menu-button');
  const menu = document.getElementById('mobile-menu');
  const icon = document.getElementById('menu-icon');

  let isOpen = false;

  if (button && menu && icon) {
    button.addEventListener('click', () => {
      if (isOpen) {
        menu.classList.remove('max-h-96', 'opacity-100');
        menu.classList.add('max-h-0', 'opacity-0');

        icon.classList.remove('rotate-90');
        button.setAttribute('aria-expanded', 'false');
        //wait 0.2 seconds before removing the background color
        setTimeout(() => {
          button.classList.remove('bg-gray-900');
        }, 200);
        //add transition to the button background color
        button.classList.add('transition-colors', 'duration-700');
      } else {
        menu.classList.remove('max-h-0', 'opacity-0');
        menu.classList.add('max-h-96', 'opacity-100');
        button.classList.add('bg-gray-900');

        icon.classList.add('rotate-90');
        button.setAttribute('aria-expanded', 'true');
      }

      isOpen = !isOpen;
    });

    // Initial state
    menu.classList.add('max-h-0', 'opacity-0');
    icon.classList.remove('rotate-90');
    button.setAttribute('aria-expanded', 'false');
  }

</script>
